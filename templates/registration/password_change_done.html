{% extends 'shop/base.html' %}

{% block title_block %}
    Password Change Successful
{% endblock %}

{% block body_block %}
<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-6 col-lg-5"> 
        <h1 class="text-center">Password Change Successful</h1>
        <div class="alert alert-success" role="alert">
            Your password has been successfully changed.
        </div>
        <p class="text-center">You will be redirected to the homepage in <span id="countdown">5</span> seconds.</p>
        <p class="text-center">If you are not redirected, <a href="{% url 'shop:homepage' %}">click here</a>.</p>
        </div>
    </div>
</div>

<!-- JS for countdown and redirecting back to homepage (derived from example on w3school) -->
<script>
    let countdownTime = 5;
    const countdownElement = document.getElementById('countdown');

    const countdownInterval = setInterval(() => {
        countdownTime--;
        countdownElement.textContent = countdownTime;
        if (countdownTime <= 0) {
            clearInterval(countdownInterval);
            window.location.href = "{% url 'shop:homepage' %}";
        }
    }, 1000);
</script>

{% endblock %}